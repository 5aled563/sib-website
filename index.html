<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIB - Services Idéales de Bureaux</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: Arial, sans-serif; background-color: #ffe6e6; } /* Fond rouge clair */
        .logo { max-width: 150px; height: auto; }
        .admin-panel { display: none; } /* Masqué par défaut, affiché seulement après connexion admin */
        .cart-item { margin-bottom: 10px; }
        footer { background-color: #dc3545; color: white; padding: 20px; text-align: center; } /* Footer rouge */
        .navbar { background-color: #dc3545 !important; } /* Navigation rouge */
        .btn-danger { background-color: #dc3545; border-color: #dc3545; }
        .btn-danger:hover { background-color: #c82333; }
        h1, h2 { color: #dc3545; } /* Titres rouges */
        .product-image { max-width: 100px; height: auto; margin: 10px; } /* Pour afficher les images des produits */
    </style>
</head>
<body>
    <!-- Header avec logo et navigation -->
    <header class="bg-light py-3">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-3">
                    <img src="logo.png" alt="Logo SIB" class="logo" id="site-logo"> <!-- Remplacez par votre logo -->
                </div>
                <div class="col-md-6">
                    <h1>SIB - Services Idéales de Bureaux</h1>
                    <p>Bienvenue chez SIB, votre partenaire en solutions informatiques et bureautiques. Nous vous proposons un large choix de produits de qualité, au meilleur prix, pour les professionnels comme pour les particuliers.</p>
                </div>
                <div class="col-md-3 text-end">
                    <button class="btn btn-danger" onclick="showSection('cart')">Panier</button>
                    <button class="btn btn-secondary" onclick="showSection('contact')">Contact</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation principale -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('home')">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('register')">Créer un compte</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('login')">Connexion</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('admin-login')">Admin</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('order')">Commander</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Contenu principal -->
    <main class="container my-4">
        <!-- Section Accueil -->
        <section id="home" class="section">
            <h2>Bienvenue chez SIB</h2>
            <p>Découvrez nos produits de bureau de qualité. Promotions en cours !</p>
            <div id="announcements"></div> <!-- Placeholder pour annonces partagées par admin -->
        </section>

        <!-- Section Création de compte -->
        <section id="register" class="section" style="display:none;">
            <h2>Créer un compte</h2>
            <form id="register-form">
                <div class="mb-3">
                    <label>Type de compte :</label>
                    <select class="form-select" id="account-type">
                        <option value="particulier">Particulier</option>
                        <option value="entreprise">Entreprise</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label>Nom :</label>
                    <input type="text" class="form-control" id="name" required>
                </div>
                <div class="mb-3">
                    <label>Email :</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="mb-3" id="matricule-field" style="display:none;">
                    <label>Matricule fiscale (pour entreprises) :</label>
                    <input type="text" class="form-control" id="matricule">
                </div>
                <button type="submit" class="btn btn-danger">S'inscrire</button>
            </form>
        </section>

        <!-- Section Connexion -->
        <section id="login" class="section" style="display:none;">
            <h2>Connexion</h2>
            <form id="login-form">
                <div class="mb-3">
                    <label>Email :</label>
                    <input type="email" class="form-control" id="login-email" required>
                </div>
                <div class="mb-3">
                    <label>Mot de passe :</label>
                    <input type="password" class="form-control" id="login-password" required>
                </div>
                <button type="submit" class="btn btn-danger">Se connecter</button>
            </form>
        </section>

        <!-- Section Admin Connexion -->
        <section id="admin-login" class="section" style="display:none;">
            <h2>Connexion Admin</h2>
            <form id="admin-login-form">
                <div class="mb-3">
                    <label>Email :</label>
                    <input type="email" class="form-control" id="admin-email" required>
                </div>
                <div class="mb-3">
                    <label>Mot de passe :</label>
                    <input type="password" class="form-control" id="admin-password" required>
                </div>
                <button type="submit" class="btn btn-danger">Se connecter</button>
            </form>
        </section>

        <!-- Section Admin Panel -->
        <section id="admin-panel" class="admin-panel">
            <h2>Panneau Admin</h2>
            <button class="btn btn-secondary mb-3" onclick="logoutAdmin()">Déconnexion</button>
            <div class="row">
                <div class="col-md-6">
                    <h3>Ajouter un produit</h3>
                    <form id="add-product-form">
                        <div class="mb-3">
                            <label>Nom :</label>
                            <input type="text" class="form-control" id="product-name" required>
                        </div>
                        <div class="mb-3">
                            <label>Prix :</label>
                            <input type="number" class="form-control" id="product-price" required>
                        </div>
                        <div class="mb-3">
                            <label>Stock :</label>
                            <input type="number" class="form-control" id="product-stock" required>
                        </div>
                        <div class="mb-3">
                            <label>Photo (URL ou chemin local) :</label>
                            <input type="text" class="form-control" id="product-image" placeholder="Ex: image.jpg" required>
                        </div>
                        <button type="submit" class="btn btn-danger">Ajouter</button>
                    </form>
                </div>
                <div class="col-md-6">
                    <h3>Modifier le site</h3>
                    <form id="site-modify-form">
                        <div class="mb-3">
                            <label>Nouveau logo (URL) :</label>
                            <input type="text" class="form-control" id="new-logo">
                        </div>
                        <div class="mb-3">
                            <label>Nouveau contact :</label>
                            <input type="text" class="form-control" id="new-contact">
                        </div>
                        <div class="mb-3">
                            <label>Nouvelle adresse :</label>
                            <input type="text" class="form-control" id="new-address">
                        </div>
                        <div class="mb-3">
                            <label>Annonce/Promotion :</label>
                            <textarea class="form-control" id="new-announcement"></textarea>
                        </div>
                        <button type="submit" class="btn btn-danger">Appliquer</button>
                    </form>
                    <h3>Gestion</h3>
                    <button class="btn btn-info" onclick="viewOrders()">Voir commandes</button>
                    <button class="btn btn-secondary" onclick="sendInvoice()">Envoyer facture PDF (simulé)</button>
                </div>
            </div>
        </section>

        <!-- Section Contact -->
        <section id="contact" class="section" style="display:none;">
            <h2>Contactez-nous</h2>
            <p id="contact-info">Email : contact@sib.tn | Adresse : Tunis, Tunisie</p> <!-- Modifiable par admin -->
            <form id="contact-form">
                <div class="mb-3">
                    <label>Nom :</label>
                    <input type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label>Email :</label>
                    <input type="email" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label>Message :</label>
                    <textarea class="form-control" required></textarea>
                </div>
                <button type="submit" class="btn btn-danger">Envoyer</button>
            </form>
        </section>

        <!-- Section Panier -->
        <section id="cart" class="section" style="display:none;">
            <h2>Votre Panier</h2>
            <div id="cart-items"></div>
            <button class="btn btn-danger" onclick="showSection('order')">Commander</button>
        </section>

        <!-- Section Commander -->
        <section id="order" class="section" style="display:none;">
            <h2>Finaliser la commande</h2>
            <form id="order-form">
                <div class="mb-3">
                    <label>Adresse de livraison :</label>
                    <input type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label>Méthode de paiement :</label>
                    <select class="form-select" id="payment-method">
                        <option value="especes">Espèces</option>
                        <option value="virement">Virement bancaire</option>
                        <option value="cheque">Chèque</option>
                    </select>
                </div>
                <div class="mb-3">
                    <p id="payment-instructions">Sélectionnez une méthode de paiement pour voir les instructions.</p>
                </div>
                <button type="submit" class="btn btn-danger">Confirmer</button>
            </form>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2023 SIB - Tous droits réservés. Site e-commerce tunisien.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variables globales pour simuler la base de données
        let products = JSON.parse(localStorage.getItem('products')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        let siteData = JSON.parse(localStorage.getItem('siteData')) || { logo: 'logo.png', contact: 'Email : contact@sib.tn | Adresse : Tunis, Tunisie', address: 'Tunis, Tunisie', announcements: [] };
        let isAdminLoggedIn = false; // Flag pour vérifier si admin est connecté

        // Fonction pour afficher une section
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            if (sectionId === 'admin-panel' && !isAdminLoggedIn) {
                alert('Accès refusé. Connectez-vous en tant qu\'admin.');
                return;
            }
            document.getElementById(sectionId).style.display = 'block';
        }

        // Gestion du type de compte (afficher matricule pour entreprises)
        document.getElementById('account-type').addEventListener('change', function() {
            document.getElementById('matricule-field').style.display = this.value === 'entreprise' ? 'block' : 'none';
        });

        // Inscription (simulée)
        document.getElementById('register-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Compte créé avec succès !');
            showSection('home');
        });

        // Connexion (simulée)
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Connexion réussie !');
            showSection('home');
        });

        // Connexion Admin
        document.getElementById('admin-login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            if (document.getElementById('admin-email').value === 'admin@sib.tn' && document.getElementById('admin-password').value === 'admin') {
                isAdminLoggedIn = true;
                document.getElementById('admin-panel').style.display = 'block';
                showSection('admin-panel');
            } else {
                alert('Identifiants incorrects');
            }
        });

        // Déconnexion Admin
        function logoutAdmin() {
            isAdminLoggedIn = false;
            document.getElementById('admin-panel').style.display = 'none';
            showSection('home');
            alert('Déconnexion réussie.');
        }

        // Ajouter un produit (avec photo)
        document.getElementById('add-product-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const product = {
                name: document.getElementById('product-name').value,
                price: document.getElementById('product-price').value,
                stock: document.getElementById('product-stock').value,
                image: document.getElementById('product-image').value
            };
            products.push(product);
            localStorage.setItem('products', JSON.stringify(products));
            alert('Produit ajouté !');
        });

        // Modifier le site
        document.getElementById('site-modify-form').addEventListener('submit', function(e) {
            e.preventDefault();
            siteData.logo = document.getElementById('new-logo').value || siteData.logo;
            siteData.contact = document.getElementById('new-contact').value || siteData.contact;
            siteData.address = document.getElementById('new-address').value || siteData.address;
            if (document.getElementById('new-announcement').value) {
                siteData.announcements.push(document.getElementById('new-announcement').value);
            }
            localStorage.setItem('siteData', JSON.stringify(siteData));
            updateSite();
            alert('Modifications appliquées !');
        });

        // Mettre à jour le site avec les données
        function updateSite() {
            document.getElementById('site-logo').src = siteData.logo;
            document.getElementById('contact-info').textContent = siteData.contact;
            document.getElementById('announcements').innerHTML = siteData.announcements.map(ann => `<p>${ann}</p>`).join('');
        }
        updateSite(); // Appel initial

        // Voir commandes (simulé)
        function viewOrders() {
            alert('Commandes : ' + JSON.stringify(orders));
        }

        // Envoyer facture PDF (simulé)
        function sendInvoice() {
            alert('Facture PDF envoyée par email (simulé) !');
        }

        // Gestion du panier (simulé, avec images)
        function addToCart(product) {
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
        }

        function updateCart() {
            const cartDiv = document.getElementById('cart-items');
            cartDiv.innerHTML = cart.map(item => `<div class="cart-item"><img src="${item.image}" alt="${item.name}" class="product-image">${item.name} - ${item.price} DT</div>`).join('');
        }
        updateCart();

        // Gestion des méthodes de paiement
        document.getElementById('payment-method').addEventListener('change', function() {
            const method = this.value;
            const instructionsDiv = document.getElementById('payment-instructions');
            if (method === 'especes') {
                instructionsDiv.textContent = 'Paiement en espèces à la livraison. Préparez le montant exact.';
            } else if (method
